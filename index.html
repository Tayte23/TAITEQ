import React, { useMemo, useState, useEffect } from "react";

export default function TaiteqLanding() {
  // Currency handling (locale default + manual toggle)
  const [currency, setCurrency] = useState<"GBP" | "USD" | "EUR">("GBP");

  useEffect(() => {
    try {
      const lang = navigator.language || "en-GB";
      if (lang.startsWith("en-GB") || lang.startsWith("en-IE")) setCurrency("GBP");
      else if (lang.startsWith("en-US")) setCurrency("USD");
      else if (
        lang.startsWith("de") ||
        lang.startsWith("fr") ||
        lang.startsWith("es") ||
        lang.startsWith("it")
      )
        setCurrency("EUR");
    } catch {}
  }, []);

  const prices = useMemo(() => {
    return {
      GBP: { symbol: "£", starter: 50, pro: 200, premium: 350 },
      USD: { symbol: "$", starter: 60, pro: 250, premium: 420 },
      EUR: { symbol: "€", starter: 55, pro: 220, premium: 390 },
    } as const;
  }, []);

  const fmt = (n: number) => `${prices[currency].symbol}${n}`;

  return (
    <main className="min-h-screen bg-gradient-to-b from-white to-slate-50 text-slate-900">
      {/* Header */}
      <header className="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-slate-200">
        <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
          <div className="flex items-center gap-2">
            <img src="/assets/taiteq-logo.svg" alt="TAITEQ logo" className="h-8 w-8" />
            <span className="font-semibold tracking-tight text-[#0b2239]">TAITEQ</span>
          </div>
          <nav className="hidden md:flex items-center gap-8 text-sm text-slate-700">
            <a href="#features" className="hover:text-[#0b2239]">Agents</a>
            <a href="#how" className="hover:text-[#0b2239]">How it works</a>
            <a href="#pricing" className="hover:text-[#0b2239]">Pricing</a>
            <a href="#faq" className="hover:text-[#0b2239]">FAQ</a>
          </nav>
          <div className="flex items-center gap-3">
            <a
              href="#pricing"
              className="hidden sm:inline-flex px-3 py-2 rounded-xl border border-slate-200 shadow-sm hover:shadow transition"
            >
              Log in
            </a>
            <a
              href="#cta"
              className="inline-flex px-4 py-2 rounded-xl bg-[#f4c430] text-[#0b2239] font-medium shadow hover:bg-[#d9ad26] transition"
            >
              Start free
            </a>
          </div>
        </div>
      </header>

      {/* Hero */}
      <section className="relative overflow-hidden">
        <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16 lg:py-24 grid lg:grid-cols-2 gap-10 items-center">
          <div>
            {/* Navy pill with gold dot */}
            <p className="inline-flex items-center gap-2 text-xs font-medium text-white bg-[#0b2239] rounded-full px-3 py-1 shadow-sm">
              <span className="h-2 w-2 rounded-full bg-[#f4c430]"></span> Your AI business team, in your pocket
            </p>
            <h1 className="mt-4 text-4xl sm:text-5xl font-semibold tracking-tight text-[#0b2239]">
              Give your solo business the power of a full team — for a fraction of the cost
            </h1>
            <p className="mt-4 text-slate-700 text-base sm:text-lg">
              TAITEQ assembles coordinated AI agents for research, marketing, sales, admin, finance, and support —
              all managed by one copilot hub. Save time, reduce overwhelm, and grow faster.
            </p>
            <div className="mt-6 flex flex-col sm:flex-row gap-3">
              <a
                href="#pricing"
                className="inline-flex items-center justify-center gap-2 px-5 py-3 rounded-2xl bg-[#f4c430] text-[#0b2239] font-medium shadow hover:bg-[#d9ad26]"
              >
                Start free <span aria-hidden>→</span>
              </a>
              <a
                href="#demo"
                className="inline-flex items-center justify-center gap-2 px-5 py-3 rounded-2xl border border-slate-200 bg-white shadow-sm hover:shadow"
              >
                Book a demo
              </a>
            </div>
            <p className="mt-3 text-xs text-slate-500">No credit card needed • Cancel anytime</p>
          </div>

          {/* Agent cards */}
          <div className="relative rounded-3xl bg-white border border-slate-200 shadow-xl p-4 lg:p-6">
            <div className="grid grid-cols-2 gap-3">
              {[
                { title: "Research Agent", desc: "Competitors, trends, and opportunities — summarized." },
                { title: "Marketing Agent", desc: "Posts, emails, and landing copy — on brand." },
                { title: "Sales Agent", desc: "Personalized outreach + follow-ups in your CRM." },
                { title: "Admin Agent", desc: "Scheduling, docs, reminders, daily brief." },
                { title: "Finance Agent", desc: "Expenses, invoices, and cash flow snapshots." },
                { title: "Support Agent", desc: "Answers FAQs and escalates what matters." },
              ].map((c, i) => (
                <div
                  key={i}
                  className="rounded-2xl border border-[#0b2239] bg-[#0b2239] text-white p-4 shadow-sm"
                  style={{
                    animation: "popIn 600ms cubic-bezier(0.22,0.8,0.3,1) both",
                    animationDelay: `${120 * i}ms`,
                    willChange: "transform, opacity",
                  }}
                >
                  <h3 className="font-medium">{c.title}</h3>
                  <p className="mt-1 text-sm text-white/85">{c.desc}</p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Social proof */}
      <section className="py-12">
        <div className="mx-auto max-w-6xl px-4 sm:px-6 text-center">
          <p className="text-xs uppercase tracking-widest text-slate-500">
            Trusted by solo founders across coaching, e‑commerce, consulting, and creator businesses
          </p>
          <div className="mt-6 grid grid-cols-2 sm:grid-cols-4 gap-6 opacity-70">
            {["NovaCoach", "LoopCart", "BrightOps", "IndieHub"].map((b) => (
              <div key={b} className="rounded-xl border border-slate-200 bg-white py-3 shadow-sm">
                {b}
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Features */}
      <section id="features" className="py-16 lg:py-24 bg-white">
        <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
          <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight text-[#0b2239]">
            A coordinated team of AI agents — managed by one hub
          </h2>
          <p className="mt-3 text-slate-700 max-w-2xl">
            Each agent owns a role. The manager copilot coordinates tasks, avoids duplication, and delivers one
            clean daily brief.
          </p>

          <div className="mt-10 grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            {[
              { title: "Research & Strategy", bullets: ["Competitor scans & market trends", "Opportunity summaries", "Idea validation checklists"] },
              { title: "Marketing & Content", bullets: ["SEO briefs & social posts", "Email campaigns & landing copy", "Brand voice memory"] },
              { title: "Sales & Outreach", bullets: ["Lead qualification", "Personalized emails & follow-ups", "Pipeline summaries"] },
              { title: "Admin & Productivity", bullets: ["Smart scheduling & reminders", "Daily executive brief", "Document drafting & filing"] },
              { title: "Finance & Ops", bullets: ["Expense tracking & invoices", "Cash flow snapshots", "Pricing & margin nudges"] },
              { title: "Customer Support", bullets: ["Instant answers for FAQs", "Escalation routing", "Conversation summaries"] },
            ].map((f) => (
              <div key={f.title} className="rounded-2xl border border-slate-200 bg-slate-50 p-6 shadow-sm">
                <h3 className="font-medium text-[#0b2239]">{f.title}</h3>
                <ul className="mt-3 space-y-2 text-sm text-slate-700 list-disc list-inside">
                  {f.bullets.map((b) => (
                    <li key={b}>{b}</li>
                  ))}
                </ul>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* How it works */}
      <section id="how" className="py-16 lg:py-24">
        <div className="mx-auto max-w-5xl px-4 sm:px-6">
          <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight text-center text-[#0b2239]">
            From signup to value in under 10 minutes
          </h2>
          <ol className="mt-8 grid gap-6 md:grid-cols-3">
            {[
              { step: "1", title: "Pick your team", desc: "Choose the agents you need now. Add or remove anytime." },
              { step: "2", title: "Connect tools", desc: "Hook up email, calendar, docs, and (optionally) Stripe or CRM." },
              { step: "3", title: "Get to work", desc: "Your manager agent briefs you daily and the team starts executing tasks." },
            ].map((s) => (
              <li key={s.step} className="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
                <div className="h-8 w-8 rounded-xl bg-[#f4c430] text-[#0b2239] grid place-items-center font-semibold">{s.step}</div>
                <h3 className="mt-3 font-medium text-[#0b2239]">{s.title}</h3>
                <p className="mt-1 text-sm text-slate-700">{s.desc}</p>
              </li>
            ))}
          </ol>
        </div>
      </section>

      {/* Pricing */}
      <section id="pricing" className="py-16 lg:py-24 bg-white">
        <div className="mx-auto max-w-6xl px-4 sm:px-6">
          <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight text-center text-[#0b2239]">
            Simple, founder‑friendly pricing
          </h2>
          <p className="mt-3 text-slate-700 text-center max-w-2xl mx-auto">
            TAITEQ isn’t just another AI tool. It’s a <strong>coordinated team of AI agents</strong> — research, marketing, sales, admin, finance, and support — all managed by one hub. For less than the cost of a virtual assistant, you get the power of an entire team.
          </p>

          {/* Currency toggle */}
          <div className="mt-4 flex justify-center gap-2">
            {(["GBP", "USD", "EUR"] as const).map((c) => (
              <button
                key={c}
                onClick={() => setCurrency(c)}
                className={`px-3 py-1 rounded-full border text-sm ${
                  currency === c ? "bg-[#0b2239] text-white border-[#0b2239]" : "bg-white text-slate-700 border-slate-300"
                }`}
                aria-pressed={currency === c}
              >
                {c}
              </button>
            ))}
          </div>

          <div className="mt-8 grid gap-6 md:grid-cols-3">
            {[
              { name: "Starter", price: prices[currency].starter, period: "/mo", features: ["Free 14‑day trial included", "2 agents of your choice", "100 tasks/month", "Email + calendar integration", "Community support"] },
              { name: "Pro", price: prices[currency].pro, period: "/mo", highlight: true, badge: "Most Popular", features: ["Full 6‑agent team", "Unlimited tasks (fair use)", "CRM + invoicing integrations", "Priority support"] },
              { name: "Premium", price: prices[currency].premium, period: "/mo", features: ["Everything in Pro", "Advanced automations", "Custom agent tuning", "Dedicated success manager"] },
              { name: "Custom", price: NaN, period: "", features: ["Industry‑specific agents", "White‑label & SSO", "Enterprise integrations", "Tailored onboarding"] },
            ].map((p) => (
              <div
                key={p.name}
                className={`relative rounded-3xl border ${
                  (p as any).highlight ? "border-[#0b2239] bg-[#0b2239] text-white" : "border-slate-200 bg-white"
                } p-6 shadow-lg`}
              >
                {(p as any).badge && (
                  <span className="absolute -top-3 left-1/2 -translate-x-1/2 bg-[#f4c430] text-[#0b2239] text-xs font-semibold px-3 py-1 rounded-full shadow">
                    {(p as any).badge}
                  </span>
                )}
                <div className="flex items-baseline justify-between">
                  <h3 className={`text-xl font-semibold ${(p as any).highlight ? "text-white" : "text-[#0b2239]"}`}>{p.name}</h3>
                  <div className="text-3xl font-bold">
                    {isNaN(p.price as number) ? (
                      <span>Talk to us</span>
                    ) : (
                      <>
                        {fmt(p.price as number)}
                        <span className="text-base font-normal">{p.period}</span>
                      </>
                    )}
                  </div>
                </div>
                <ul className={`mt-4 space-y-2 text-sm ${(p as any).highlight ? "text-slate-100" : "text-slate-700"}`}>
                  {p.features.map((f) => (
                    <li key={f} className="flex gap-2"><span>✓</span><span>{f}</span></li>
                  ))}
                </ul>
                <a href="#cta" className="mt-5 inline-flex w-full items-center justify-center rounded-2xl px-4 py-3 bg-[#f4c430] text-[#0b2239] shadow hover:bg-[#d9ad26]">
                  {(p as any).name === "Custom" ? "Book a call" : "Start now"}
                </a>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Testimonials */}
      <section className="py-16">
        <div className="mx-auto max-w-6xl px-4 sm:px-6">
          <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight text-center text-[#0b2239]">What solo founders say</h2>
          <div className="mt-8 grid gap-6 md:grid-cols-3">
            {[
              { quote: "My “team” drafts emails, posts, and proposals while I’m on client calls. It’s like hiring three people.", name: "Amara • Coach" },
              { quote: "Revenue up 28% after automating outreach + invoicing. Setup took under an hour.", name: "Luis • Consultant" },
              { quote: "The daily brief keeps me sane. I just approve tasks and move on.", name: "Sasha • Indie e‑commerce" },
            ].map((t) => (
              <blockquote key={t.name} className="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
                <p className="text-slate-700">“{t.quote}”</p>
                <footer className="mt-3 text-sm text-slate-500">{t.name}</footer>
              </blockquote>
            ))}
          </div>
        </div>
      </section>

      {/* FAQ */}
      <section id="faq" className="py-16 bg-white">
        <div className="mx-auto max-w-5xl px-4 sm:px-6">
          <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight text-center text-[#0b2239]">FAQ</h2>
          <div className="mt-8 space-y-4">
            {[
              { q: "Do I need to be technical to use TAITEQ?", a: "No. It’s built for non‑technical founders. Connect your tools, pick your agents, and you’re ready." },
              { q: "Is my data safe?", a: "Yes. We use encryption in transit and at rest. You control what tools are connected and can disconnect anytime." },
              { q: "What does “tasks/month” mean?", a: "Each discrete action an agent performs (e.g., drafting an email, summarizing a page) counts as a task. We include generous limits." },
              { q: "Can I start on mobile?", a: "Absolutely. TAITEQ is designed mobile‑first so your team lives in your pocket." },
            ].map((f) => (
              <details key={f.q} className="group rounded-2xl border border-slate-200 bg-white p-5 open:shadow-md">
                <summary className="cursor-pointer font-medium text-[#0b2239]">{f.q}</summary>
                <p className="mt-2 text-sm text-slate-700">{f.a}</p>
              </details>
            ))}
          </div>
        </div>
      </section>

      {/* CTA */}
      <section id="cta" className="py-16 lg:py-24">
        <div className="mx-auto max-w-5xl px-4 sm:px-6 text-center">
          <div className="rounded-3xl border border-slate-200 bg-[#0b2239] text-white p-10 shadow-xl">
            <h2 className="text-3xl sm:text-4xl font-semibold tracking-tight">Build your AI team today</h2>
            <p className="mt-3 text-slate-200">Start free, invite your tools, and let your business run on autopilot — with you in control.</p>
            <div className="mt-6 flex flex-col sm:flex-row gap-3 justify-center">
              <a href="#pricing" className="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl bg-[#f4c430] text-[#0b2239] shadow hover:bg-[#d9ad26]">Start free</a>
              <a href="#demo" className="inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl border border-white/30">Book a demo</a>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-10 border-t border-slate-200 bg-white">
        <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 grid md:grid-cols-2 gap-6 items-center">
          <p className="text-sm text-slate-500">© {new Date().getFullYear()} TAITEQ. All rights reserved.</p>
          <div className="justify-self-end flex gap-6 text-sm text-slate-600">
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
            <a href="#">Contact</a>
          </div>
        </div>
      </footer>

      {/* Keyframes */}
      <style>{`@keyframes popIn{from{opacity:0;transform:translateY(12px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}`}</style>
    </main>
  );
}

